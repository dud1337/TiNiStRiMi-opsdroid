# TiNiStRiMi Opsdroid Skill
This [opsdroid](https://github.com/opsdroid/opsdroid) skill monitors and notifies a chatroom when an [TiNiStRiMi](https://github.com/dud1337/TiNiStRiMi) stream starts, stops, or is ongoing.

## Requirements

* Opsdroid instance
    * `ffmpeg` may be required on opsdroid instance in subsequent versions (e.g. ones which would screencap the stream)
* TiNiStRiMi instance

# 1. Configuration
For opsdroid `configuration.yaml`:
```yaml
web:
  webhook-token: "<YOUR TOKEN>"
  host: '0.0.0.0'
  disable_web_index_handler_in_root: true
  port: 8080

...

skills:
  nginx_rtmp_opsdroid:
    path: /tmp/skills/nginx_rtmp_opsdroid
    room_notify: "<room id>" # NOTE: For matrix, use internal ID, not alias.
    stream_url: "https://stream.your.server"
    status_url: "https://stream.your.server/stream_status"
    custom_message: "custom message to appear when stream begins"
```

Ensure, in your [TiNiStRiMi](https://github.com/dud1337/TiNiStRiMi) instance,
```yaml
    environment:
      TINISTRIMI_PASSWORD: TiNiStRiMi
      TINISTRIMI_WEBRTC_HOSTS: 10.138.138.138
      OPSDROID_AUTH_TOKEN: <some bearer token generated by opsdroid webhook>
      OPSDROID_STREAM_ENDPOINT: https://yourbot.example.tld/skill/TiNiStRiMi-opsdroid/update
```
